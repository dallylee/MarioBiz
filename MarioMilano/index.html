import React, { useState, useCallback } from 'react';
import { Layers, Lightbulb, TrendingUp, BookOpen, Truck, Settings, Palette, Zap, MapPin, Search, Link, X } from 'lucide-react';

// Define the custom Tailwind colors for the Milan RMX brand identity
const customColors = {
    'primary-memphis': '#FF00A6', // Vibrant Pink
    'secondary-rationalism': '#A0522D', // Terracotta
    'bg-cream': '#F8F7F4', // Light Cream/Travertine feel
    'dark-charcoal': '#1F2937',
    'accent-futurism': '#E44C4C', // A bold red for Futurism
    'accent-ephemera': '#6B7280', // A subdued gray for Street Ephemera
};

// --- Helper Components: Image Modal and Responsive Image ---

// Image Modal Component
const ImageModal = ({ src, alt, onClose }) => {
    if (!src) return null;

    return (
        <div 
            className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4 transition-opacity duration-300"
            onClick={onClose}
        >
            <div 
                className="relative max-w-full max-h-full w-auto h-auto"
                onClick={e => e.stopPropagation()} // Prevent modal close when clicking on the image itself
            >
                <button
                    onClick={onClose}
                    className="absolute top-4 right-4 text-white bg-dark-charcoal/50 hover:bg-dark-charcoal/70 rounded-full p-2 z-50 transition"
                    aria-label="Close image viewer"
                >
                    <X className="w-6 h-6" />
                </button>
                <img 
                    src={src} 
                    alt={alt} 
                    className="max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl" 
                    // Fallback using placeholder image on error, although for local files it's less necessary
                    onError={(e) => { e.target.onerror = null; e.target.src = "https://placehold.co/600x400/1F2937/FFFFFF?text=Image+Load+Error"; }}
                />
            </div>
        </div>
    );
};

// Responsive Image Component
const ResponsiveImage = ({ src, alt, caption, openModal, className = '' }) => (
    <div className={`flex flex-col items-center group cursor-pointer ${className} my-4`}>
        <img 
            src={src} 
            alt={alt} 
            className="w-full h-auto object-cover rounded-lg shadow-md transition-all duration-300 group-hover:shadow-xl group-hover:scale-[1.02]"
            onClick={() => openModal(src)}
            // Ensure images scale fluidly
            style={{ maxWidth: '100%', height: 'auto' }}
        />
        {caption && (
            <p className="mt-2 text-sm text-gray-500 italic text-center px-2">{caption}</p>
        )}
    </div>
);

// Image Gallery Component
const ImageGallery = ({ title, images, openModal }) => (
    <div className="mt-10 pt-6 border-t border-gray-200">
        <h3 className="text-2xl font-bold text-dark-charcoal mb-4 border-b-2 border-primary-memphis/50 pb-2">{title}</h3>
        <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4">
            {images.map((imgSrc, index) => (
                <div key={index} className="flex flex-col items-center group cursor-pointer overflow-hidden rounded-lg shadow-lg aspect-square">
                    <img 
                        src={imgSrc} 
                        alt={`${title} image ${index + 1}`} 
                        className="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                        onClick={() => openModal(imgSrc)}
                    />
                </div>
            ))}
        </div>
    </div>
);


// --- Tab Content Components ---

const NicheAnalysis = ({ openModal }) => (
    <div className="space-y-8 p-6 bg-white rounded-xl shadow-lg">
        <h2 className="text-4xl font-extrabold text-dark-charcoal mb-6">Pet Portrait Niche Analysis</h2>
        <p className="text-lg text-gray-700 mb-4">
            Ciao Mario! As you're exploring the idea of starting an Etsy shop, it's crucial to understand the landscape. Let's dive into the pet portrait niche together.
        </p>

        <div className="p-6 bg-yellow-50 border-l-4 border-yellow-500 rounded-lg shadow-inner">
            <h3 className="font-semibold text-2xl text-yellow-800 mb-2 flex items-center">
                <Search className="w-6 h-6 mr-3 text-yellow-600"/> Is the Etsy Pet Portrait Niche Too Saturated?
            </h3>
            <p className="text-gray-700 text-lg">
                <strong>Yes, it is very crowded.</strong> A quick search reveals hundreds of thousands of results, ranging from cheap, digitally-manipulated portraits to high-end, hand-painted commissions. You'll be competing with a vast array of sellers.
            </p>
            <ResponsiveImage 
                src="images/petportraitsonetsy.png" 
                alt="The scale of the competition in the pet portrait niche on Etsy." 
                caption="A visualization of the crowded pet portrait niche on Etsy."
                openModal={openModal}
            />
        </div>

        <div className="grid md:grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
            <div className="p-6 bg-red-50 border-l-4 border-red-400 rounded-lg shadow-md">
                <h4 className="text-2xl font-bold mt-4 text-primary-memphis flex items-center">
                    <Zap className="w-6 h-6 mr-3 text-red-600"/> The Main Challenges
                </h4>
                <ul className="list-disc list-inside space-y-3 pl-4 text-gray-700 mt-4">
                    <li><strong>Low-Priced Competition:</strong> You'll be competing with shops offering digital portraits (often created with software filters or even AI) for as low as $10–$30. This makes it difficult for artists doing original, hand-drawn/painted work to charge what their time is truly worth.</li>
                    <li><strong>Search Visibility:</strong> Getting your listing seen among over 200,000 others requires excellent **SEO** (Search Engine Optimization), high-quality photography, and potentially paid ads, especially when starting out.</li>
                    <li><strong>Customer Expectations:</strong> Many customers see the low-priced digital listings and may not understand why a unique, commissioned piece costs more, leading to a need for clear communication and education about your process.</li>
                </ul>
            </div>

            <div className="p-6 bg-green-50 border-l-4 border-green-400 rounded-lg shadow-md">
                <h4 className="text-2xl font-bold mt-4 text-secondary-rationalism flex items-center">
                    <Lightbulb className="w-6 h-6 mr-3 text-green-600"/> Why It Can Still Be Worth It (If You Stand Out)
                </h4>
                <p className="text-gray-700 mt-4">
                    The market for pet lovers is huge, and many are looking for something **unique** and high-quality. You can succeed by focusing on one or more of these areas:
                </p>
                <ul className="list-disc list-inside space-y-3 pl-4 text-gray-700 mt-4">
                    <li><strong>Unique Style/Niche:</strong> Your artwork needs a **distinctive look** that sets it apart from the general market. Examples: Royal/Renaissance-style pet portraits, Pop Art colors, highly detailed pencil realism, a unique cartoon/whimsical style, or using a less common medium (like wood burning, needle felting, or glass).</li>
                    <li><strong>Product Offering:</strong> Go beyond just prints. Offering pet portraits on diverse products like pillows, mugs, phone cases, and apparel via Printful can capture more sales and justify a higher price point.</li>
                    <li><strong>Targeting Specific Pet Owners:</strong> Instead of targeting "all dog owners," focus on niches (e.g., specific breeds, cats only, exotic pets, or pet memorial art).</li>
                    <li><strong>Memorial Art Exists:</strong> This niche is highly emotional and often less price-sensitive. You can create art that memorializes a deceased pet, focusing on high quality and emotional resonance.</li>
                </ul>
            </div>
        </div>
    </div>
);


const Idea1 = ({ openModal }) => (
    <div className="space-y-8 p-6 bg-white rounded-xl shadow-lg">
        <h2 className="text-4xl font-extrabold text-dark-charcoal mb-6 flex items-center">
            <TrendingUp className="w-9 h-9 mr-4 text-accent-futurism"/> Idea 1: Pets in Everyday Situations & Jobs (Pet Niche Focus)
        </h2>
        <p className="text-lg text-gray-700 mb-4">
            Since you're thinking about the pet portrait niche, here's an idea to make your art truly stand out. This approach focuses on humor and personality, giving pets human-like roles or placing them in funny, relatable everyday scenarios. It's a fantastic way to connect with pet owners on an emotional level and create highly shareable art.
        </p>

        <div className="bg-red-50 p-6 rounded-lg border-l-4 border-red-400 shadow-md">
            <h3 className="text-2xl font-bold text-red-800 mb-4 flex items-center">
                <Lightbulb className="w-6 h-6 mr-3 text-red-600"/> Key Execution Elements:
            </h3>
            <ul className="list-disc list-inside space-y-3 pl-4 text-gray-700">
                <li><strong>Human Jobs:</strong> Create delightful portraits of pets "dressed up" as doctors, chefs, firefighters, astronauts, or even grumpy office workers. The absurdity and personalization are key.</li>
                <li><strong>Everyday Scenes:</strong> Think about common pet antics or owner experiences. A cat knocking over a remote, a dog trying to sneak food off a table, or a bird "supervising" a computer screen. These are instantly relatable.</li>
                <li><strong>Style:</strong> This concept thrives with a fun, whimsical, cartoonish, or even slightly exaggerated realistic style. It contrasts beautifully with more serious art, making it memorable.</li>
            </ul>
        </div>
        
        {/* Image Grid for Idea 1 */}
        <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8">
            <ResponsiveImage 
                src="images/petjob1.png" 
                alt="A dog illustrated as a grumpy office worker" 
                caption="Example: Dog as a Grumpy Office Worker" 
                openModal={openModal} 
            />
            <ResponsiveImage 
                src="images/petjob2.png" 
                alt="A cat wearing a chef hat and apron" 
                caption="Example: Cat Chef" 
                openModal={openModal} 
            />
            <ResponsiveImage 
                src="images/petjob3.png" 
                alt="A parrot wearing an astronaut helmet" 
                caption="Example: Bird Astronaut" 
                openModal={openModal} 
            />
        </div>

        <div className="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-400 shadow-md mt-8">
            <h3 className="font-bold text-2xl text-blue-800 mb-4 flex items-center">
                <Truck className="w-6 h-6 mr-3 text-blue-600"/> Why This Works for Print-on-Demand (POD):
            </h3>
            <p className="text-lg text-blue-700">
                These designs are incredibly versatile and perfect for a wide range of POD products. Imagine a mug with a "Coffee-Drinking Cat" or a T-shirt with a "Dog-Chef"! They act as fantastic conversation starters and can drive impulse buys. They are ideal for:
            </p>
            <ul className="list-disc list-inside space-y-2 pl-6 text-blue-700 mt-3">
                <li>Mugs and drinkware</li>
                <li>Keychains and magnets</li>
                <li>T-shirts, hoodies, and other apparel</li>
                <li>Phone cases</li>
                <li>Tote bags</li>
            </ul>
        </div>
    </div>
);


const Idea2 = ({ openModal }) => {
    // Gallery Images
    const visualIdentityImages = [
        "images/logo1.png",
        "images/logo2.png",
        "images/banner1.jpg",
        "images/banner2.jpg",
        "images/banner3.jpg",
    ];
    const podExampleImages = [
        "images/pod1.jpg",
        "images/pod2.jpg",
    ];

    return (
        <div className="space-y-8 p-6 bg-white rounded-xl shadow-lg">
            <h2 className="text-4xl font-extrabold text-dark-charcoal mb-6 flex items-center">
                <Palette className="w-9 h-9 mr-4 text-primary-memphis"/> Idea 2: Milanese Design Archive (Alternative Business Path)
            </h2>
            
            <p className="text-lg text-gray-700 mb-6">
                While the pet niche is an option, another exciting path—especially for an artist based in Milan—is to leverage the city's rich design history. Milan is renowned globally as a capital of design, having birthed and influenced numerous influential art and design movements. This idea proposes a **completely separate business strategy**, focusing on selling original art and apparel based purely on these iconic Italian styles, moving away from pets entirely.
            </p>

            <div className="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-400 shadow-md">
                <h3 className="text-2xl font-bold text-blue-800 mb-4 flex items-center">
                    <MapPin className="w-6 h-6 mr-3 text-blue-600"/> The Milanese Design Heritage: Four Key Styles
                </h3>
                <p className="text-lg text-blue-700 mb-4">
                    Let's explore four pivotal art and design movements from Milan (or with strong Milanese connections) that you can interpret into stunning, unique designs:
                </p>
                <ul className="list-disc list-inside space-y-3 pl-4 text-blue-700">
                    <li><strong>Memphis Design (1980s):</strong> Known for its bold geometry, clashing colors (especially pastels and primaries), asymmetry, and playful, rebellious spirit. Think Ettore Sottsass.</li>
                    <li><strong>Italian Rationalism (1920s-1940s):</strong> Characterized by clean lines, classical proportions, symmetry, monumentality, and a muted, earthy color palette (terracotta, cream, charcoal). Think Giuseppe Terragni.</li>
                    <li><strong>Italian Futurism (Early 20th Century):</strong> Emphasized movement, speed, technology, youth, and violence. Visually, it uses dynamic lines, fragmented forms, and vibrant, often clashing colors to convey energy. Think Giacomo Balla.</li>
                    <li><strong>Street Ephemera (Timeless Milan):</strong> Captures the authentic, weathered beauty of everyday Milanese street signage, faded advertisements, and textured walls. Focuses on imperfect typography and gritty textures.</li>
                </ul>
                <p className="text-lg text-blue-700 mt-4">
                    These styles offer a vast playground for creating unique designs that appeal to design enthusiasts worldwide.
                </p>
            </div>

            <div className="bg-gradient-to-r from-primary-memphis/10 to-secondary-rationalism/10 p-6 rounded-xl shadow-2xl mt-8">
                <h3 className="text-3xl font-bold text-dark-charcoal mb-4 flex items-center">
                    <Search className="w-8 h-8 mr-3 text-dark-charcoal"/> Gemini Prompts: Translating Milanese Styles into POD Art
                </h3>
                <p className="text-lg text-gray-700 mb-6">
                    Here are specific Gemini prompts to help you generate unique designs inspired by Milanese aesthetics.
                </p>

                {/* Memphis Prompt Section */}
                <div className="bg-primary-memphis/5 p-6 rounded-lg border-l-4 border-primary-memphis shadow-md mb-6">
                    <h4 className="font-bold text-2xl text-primary-memphis mb-3">Memphis Abstract: Reimagining Elements</h4>
                    <p className="text-md text-gray-700 mb-3">
                        The key is to take the **elements**, **colors**, and **compositional spirit** of the original Memphis aesthetic and create a **new, abstract arrangement**.
                    </p>
                    <code className="block bg-primary-memphis/10 p-3 mt-4 rounded text-sm text-dark-charcoal overflow-x-auto">
                        "Create a vector art print of an abstract geometric composition in the style of Memphis Milano. Use a palette including pastel pink, light blue, vibrant red, and black/white stripes. The design should be an asymmetrical, layered arrangement of shapes suitable for printing on a T-shirt. Vector art, transparent background, 300 DPI."
                    </code>
                    <ResponsiveImage 
                        src="images/memphis1.jpg" 
                        alt="Abstract Memphis style geometric composition" 
                        caption="Memphis Abstract design suitable for a POD T-shirt."
                        openModal={openModal} 
                        className="mt-4"
                    />
                </div>

                {/* Rationalism Prompt Section */}
                <div className="bg-secondary-rationalism/5 p-6 rounded-lg border-l-4 border-secondary-rationalism shadow-md mb-6">
                    <h4 className="font-bold text-2xl text-secondary-rationalism mb-3">Rationalism: Monumental Simplicity</h4>
                    <p className="text-md text-gray-700 mb-3">
                        This style uses **symmetrical, clean lines, arches, and a terracotta/cream palette**, evoking the monumental simplicity of Italian Rationalist architecture.
                    </p>
                    <code className="block bg-secondary-rationalism/10 p-3 mt-4 rounded text-sm text-dark-charcoal overflow-x-auto">
                        "A vector illustration of a repeating architectural arch pattern, highly symmetrical, in the Italian Rationalism style. Use a muted palette of terracotta, cream, and charcoal gray. Minimalist, clean lines, professional design for T-shirt printing, transparent background, 300 DPI."
                    </code>
                    <ResponsiveImage 
                        src="images/novecento1.jpg" 
                        alt="Minimalist Italian Rationalism arch pattern" 
                        caption="Rationalism pattern: Monumental simplicity."
                        openModal={openModal} 
                        className="mt-4"
                    />
                </div>

                {/* Futurism Prompt Section */}
                <div className="bg-accent-futurism/5 p-6 rounded-lg border-l-4 border-accent-futurism shadow-md mb-6">
                    <h4 className="font-bold text-2xl text-accent-futurism mb-3">Futurism: Dynamic Movement</h4>
                    <p className="text-md text-gray-700 mb-3">
                        Focus on **movement, speed, and energy**, characteristic of Italian Futurism. Designs should incorporate dynamic lines, fragmented forms, and vibrant, often clashing primary colors.
                    </p>
                    <code className="block bg-accent-futurism/10 p-3 mt-4 rounded text-sm text-dark-charcoal overflow-x-auto">
                        "A vector illustration of abstract dynamic lines and fragmented shapes, conveying speed and movement, in the style of Italian Futurism. Use a palette of vibrant yellow, electric blue, and deep red. The composition should suggest chaotic velocity. High resolution, transparent background, suitable for a tote bag print."
                    </code>
                    <ResponsiveImage 
                        src="images/futura1.jpg" 
                        alt="Dynamic lines and fragmented shapes in Futurist style" 
                        caption="Futurism illustration conveying speed and velocity."
                        openModal={openModal} 
                        className="mt-4"
                    />
                </div>

                {/* Street Ephemera Prompt Section */}
                <div className="bg-accent-ephemera/5 p-6 rounded-lg border-l-4 border-accent-ephemera shadow-md">
                    <h4 className="font-bold text-2xl text-accent-ephemera mb-3">Street Ephemera: Textured Milanese Typography</h4>
                    <p className="text-md text-gray-700 mb-3">
                        This design is focused on the **authentic atmosphere of everyday Milanese streets and local businesses**. It captures the textured, grungy, faded text found on local signs.
                    </p>
                    <code className="block bg-accent-ephemera/10 p-3 mt-4 rounded text-sm text-dark-charcoal overflow-x-auto">
                        "A bold graphic featuring the phrase 'TABACCHERIA' in a stylized, vintage Italian block font. The design must incorporate heavy grunge and distressed textures, making it look like faded paint on an old wall. Use a muted two-color palette of aged cream and deep charcoal. The design should be a high-contrast illustration that evokes old Milanese street signage."
                    </code>
                    <ResponsiveImage 
                        src="images/ephemera1.png" 
                        alt="Distressed typography graphic with the word 'TABACCHERIA'" 
                        caption="Street Ephemera: Grungy Milanese typography."
                        openModal={openModal} 
                        className="mt-4"
                    />
                </div>
            </div>

            {/* Italian Store Identity Draft Section */}
            <div className="border border-gray-300 p-6 rounded-xl shadow-lg bg-white mt-8">
                <h3 className="text-3xl font-bold mb-4 text-dark-charcoal border-b pb-2 flex items-center">
                    <Settings className="w-7 h-7 mr-3 text-dark-charcoal"/> Italian Store Identity Research & Draft (Milano RMX)
                </h3>
                <p className="text-lg text-gray-700 mb-4">
                    Based on leveraging Milan's design heritage, here's a comprehensive draft for your Etsy store's identity. This concept positions your shop as an "archive" or "remix" of Milanese design.
                </p>
                <div className="grid md:grid-cols-1 lg:grid-cols-2 gap-4 mt-4">
                    <div>
                        <p className="text-gray-700 mb-2"><strong>Shop Name:</strong> <span className="text-primary-memphis font-bold text-xl">Milano RMX</span></p>
                        <p className="text-gray-700 mb-2"><strong>Tagline:</strong> Post-Modern Prints. Futurism to Finestra.</p>
                    </div>
                    <div>
                        <p className="text-gray-700 mb-2"><strong>Target Audience:</strong> Design enthusiasts, architects, interior designers, lovers of Italian culture, and individuals seeking unique, artistic apparel/home decor.</p>
                        <p className="text-gray-700 mb-2"><strong>Key Selling Points:</strong> Authenticity (from Milan), unique artistic interpretation, high-quality POD products, connection to rich design history.</p>
                    </div>
                </div>
                <p className="mt-4 text-gray-700"><strong>Shop Announcement:</strong> Ciao da Milano! Modern design classics, reimagined for your home and wardrobe. Explore our collections: Playful Memphis, Monumental Rationalism, Dynamic Futurism, and authentic Street Ephemera. Available as Print-on-Demand (POD) and Digital Downloads.</p>
                <p className="mt-4 text-gray-700"><strong>Story Title:</strong> Design Is A Place. Location: Milan, Italy (Must be explicitly stated)</p>
                <p className="mt-2 text-gray-700"><strong>Story Content:</strong> Welcome to Milano RMX, where every design begins on the streets of Italy's design capital. My name is [Your Name], and I am an artist/designer based right here in Milan, Italy. We translate the energy of Novecento architecture, the playful rebellion of 80s Memphis, the speed of Italian Futurism, and the grit of Milanese Street Ephemera into art for your modern life. Each piece is a tribute to Milan's enduring influence on global design, reimagined for unique apparel, decor, and digital art.</p>
            </div>

            {/* Image Galleries for Visual Identity and POD Examples */}
            <ImageGallery 
                title="Visual Identity, Store Banner, and Logo Examples" 
                images={visualIdentityImages} 
                openModal={openModal} 
            />
            <ImageGallery 
                title="Examples of Designs on POD Products" 
                images={podExampleImages} 
                openModal={openModal} 
            />
        </div>
    );
};


const Idea3 = () => (
    <div className="space-y-8 p-6 bg-white rounded-xl shadow-lg">
        <h2 className="text-4xl font-extrabold text-dark-charcoal mb-6 flex items-center">
            <Layers className="w-9 h-9 mr-4 text-gray-700"/> Idea 3: Creative Digital Download and Print on Demand Formats
        </h2>
        
        <p className="text-lg text-gray-700 mb-6">
            This strategy focuses purely on **product format and utility**, offering high-demand types of digital and Print-on-Demand (POD) products. These ideas are versatile and can be applied to *any* design style – whether it's your pet portraits (Idea 1) or your Milanese aesthetic designs (Idea 2). The goal here is to maximize sales by tapping into popular product formats.
        </p>

        {/* Product Concept 1: Seamless Patterns */}
        <div className="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-400 shadow-md">
            <h3 className="text-2xl font-bold text-purple-800 mb-4 flex items-center">
                <Palette className="w-6 h-6 mr-3 text-purple-600"/> Product Concept 1: Seamless Patterns (Digital Download)
            </h3>
            <p className="text-lg text-gray-700 mb-3">
                <strong>Concept:</strong> Create perfectly tiling seamless patterns using stylized illustrations of any subject. This could be anything from abstract geometric shapes, simplified natural elements (leaves, clouds), everyday objects (coffee cups, bicycles), or even simplified pet faces if you choose to integrate the pet niche.
            </p>
            <p className="text-lg text-gray-700 mb-3">
                <strong>Unique Selling Proposition (USP):</strong> You'll sell the high-resolution digital file of these patterns. Crafters, designers, scrapbookers, and individuals looking for custom fabric prints (e.g., Spoonflower) or unique digital backgrounds are a huge market.
            </p>
            <p className="text-lg text-gray-700 mb-3">
                <strong>Execution & Tips:</strong>
            </p>
            <ul className="list-disc list-inside space-y-2 pl-4 text-gray-700">
                <li><strong>Design Software:</strong> Use Adobe Illustrator, Affinity Designer, or even Photopea.com's pattern tools to ensure perfect tiling.</li>
                <li><strong>Variety:</strong> Offer patterns in various colorways and subject matters.</li>
                <li><strong>Mockups:</strong> Use attractive mockups showing the pattern on fabric, wrapping paper, or digital screens.</li>
                <li><strong>Keywords:</strong> "Seamless pattern," "digital paper," "fabric design," "scrapbook paper," "digital download."</li>
                <li><strong>Example:</strong> A repeating pattern of small, simplified coffee cup outlines in a neutral color palette. Or, if applying to Idea 2, a Memphis-inspired geometric pattern.</li>
            </ul>
        </div>

        {/* Product Concept 2: High-Quality Vector Silhouettes */}
        <div className="bg-teal-50 p-6 rounded-lg border-l-4 border-teal-400 shadow-md mt-8">
            <h3 className="text-2xl font-bold text-teal-800 mb-4 flex items-center">
                <Layers className="w-6 h-6 mr-3 text-teal-600"/> Product Concept 2: High-Quality Vector Silhouettes (POD & Digital)
            </h3>
            <p className="text-lg text-gray-700 mb-3">
                <strong>Concept:</strong> Create clean, minimalist vector silhouettes of high-value objects, iconic architecture (e.g., Milan Duomo, Castello Sforzesco), popular dog breeds, or elegant figures.
            </p>
            <p className="text-lg text-gray-700 mb-3">
                <strong>Unique Selling Proposition (USP):</strong> Vector files are highly versatile. They can be scaled to any size without losing quality, making them perfect for both POD products (which require scalable designs) and for sale as digital assets to graphic designers, crafters, or small businesses.
            </p>
            <p className="text-lg text-gray-700 mb-3">
                <strong>Execution & Tips:</strong>
            </p>
            <ul className="list-disc list-inside space-y-2 pl-4 text-gray-700">
                <li><strong>Software:</strong> Adobe Illustrator or Affinity Designer are ideal for creating true vector files (SVG, EPS).</li>
                <li><strong>Subjects:</strong> Focus on easily recognizable and aesthetically pleasing subjects. For pets, stick to popular breeds. For Milan, iconic landmarks.</li>
                <li><strong>Color:</strong> Often sold in black, white, or a single accent color for a minimalist look.</li>
                <li><strong>POD Suitability:</strong> Excellent for mugs, phone cases, T-shirts (especially if combined with subtle texture or a simple phrase).</li>
                <li><strong>Digital Sales:</strong> Offer different file formats (SVG, PNG with transparent background, JPG).</li>
                <li><strong>Example:</strong> A clean vector silhouette of a popular dog breed or an elegant outline of the Milan Duomo.</li>
            </ul>
        </div>
    </div>
);


const HowTo = () => {
    // Helper function to render the detail text safely, allowing for links and bolding
    const renderDetail = (detail) => (
        <p className="text-gray-600 text-lg" dangerouslySetInnerHTML={{ __html: detail }}></p>
    );

    const steps = [
        { 
            step: 1, 
            title: "Open Etsy Shop & Set Currency", 
            detail: `Register your Etsy shop, select your unique shop name (e.g., 'Milano RMX'), and set your default currency to EUR. Start your setup here: <a href="https://www.etsy.com/sell" target="_blank" class="text-blue-600 hover:text-blue-800 font-semibold underline flex items-center">Etsy Seller Portal <Link className="w-4 h-4 ml-1 inline-block"/></a>.`
        },
        { 
            step: 2, 
            title: "Open a Free Account with Printful", 
            detail: `Printful will handle printing, packaging, and shipping for your POD products. Open your free account and set up your profile first. Get started here: <a href="https://www.printful.com/a/start" target="_blank" class="text-blue-600 hover:text-blue-800 font-semibold underline flex items-center">Printful Registration <Link className="w-4 h-4 ml-1 inline-block"/></a>.`
        },
        { 
            step: 3, 
            title: "Create Designs Using Gemini (AI Tool)", 
            detail: `Generate your initial high-resolution design concepts using specific prompts (like those in Idea 2). Ensure the output is a high-quality vector or high-res image ready for printing. Explore the tool here: <a href="https://ai.google/tools/gemini/" target="_blank" class="text-blue-600 hover:text-blue-800 font-semibold underline flex items-center">Gemini AI <Link className="w-4 h-4 ml-1 inline-block"/></a>.`
        },
        { 
            step: 4, 
            title: "Prepare Designs in Photopea.com (or equivalent)", 
            detail: `Open your generated design file. Ensure the resolution is set to <strong>300 DPI</strong>, adjust dimensions to fit the product, and check that the background is <strong>transparent</strong>. Export as a <strong>PNG</strong> file. Access the free editor here: <a href="https://www.photopea.com/" target="_blank" class="text-blue-600 hover:text-blue-800 font-semibold underline flex items-center">Photopea Online Editor <Link className="w-4 h-4 ml-1 inline-block"/></a>.`
        },
        { 
            step: 5, 
            title: "Create and Save Product Template in Printful", 
            detail: `In Printful's Dashboard, select a base product (e.g., T-shirt, Tote Bag). Upload your prepared PNG design, select color variations, and save the product details as a template/draft. This is where the virtual product is physically built on the POD platform.`
        },
        { 
            step: 6, 
            title: "Connect Printful with Etsy", 
            detail: `Now that you have designs ready and templates built, link your fulfillment system. In Printful's 'Stores' section, find your Etsy shop and click to authorize the connection. This links your two platforms securely so orders flow automatically.`
        },
        { 
            step: 7, 
            title: "Push Product to Etsy Drafts", 
            detail: `In Printful, go to your saved product template and click <strong>'Push'</strong>. Printful automatically sends all product details, mockups, sizing info, and base costs directly to your Etsy shop's drafts section. Your product is now ready for sale optimization.`
        },
        { 
            step: 8, 
            title: "Optimize Listing with AI & Publish on Etsy", 
            detail: `Finalize the listing in your Etsy drafts: use AI (like ChatGPT or Gemini) to generate high-performing, keyword-rich SEO titles and descriptions. Set your final retail price, add tags, and once everything is perfect, click <strong>Publish</strong> to make your product live!`
        },
    ];
    
    return (
        <div className="space-y-8 p-6 bg-white rounded-xl shadow-lg">
            <h2 className="text-4xl font-extrabold text-dark-charcoal mb-6 flex items-center">
                <Settings className="w-9 h-9 mr-4 text-blue-600"/> Setup: Your 8-Step Launch Plan
            </h2>
            
            <p className="text-lg text-gray-700 font-medium mb-6">
                Here's a clear, step-by-step guide to get your Etsy shop up and running and seamlessly connected with Printful for easy product fulfillment.
            </p>

            {steps.map((item) => (
                <div key={item.step} className="flex items-start space-x-4 p-6 bg-white rounded-xl shadow-md transition duration-300 hover:shadow-lg border border-gray-200">
                    <div className="flex-shrink-0 w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center font-black text-xl shadow-lg">
                        {item.step}
                    </div>
                    <div>
                        <h4 className="text-2xl font-bold text-dark-charcoal mb-2">{item.title}</h4>
                        {renderDetail(item.detail)}
                    </div>
                </div>
            ))}
        </div>
    );
};


const TabButton = ({ tab, activeTab, onClick, Icon, label }) => {
    const isActive = activeTab === tab;
    return (
        <button
            onClick={() => onClick(tab)}
            className={`
                flex items-center px-5 py-3 text-lg font-medium rounded-t-xl transition-all duration-300 text-nowrap
                ${isActive
                    ? 'bg-white text-dark-charcoal border-b-4 border-primary-memphis shadow-inner-top' // Custom shadow for active tab
                    : 'bg-gray-100 text-gray-600 hover:text-dark-charcoal hover:bg-gray-200'
                }
            `}
        >
            <Icon className="w-5 h-5 mr-2" />
            {label}
        </button>
    );
};


const App = () => {
    const [activeTab, setActiveTab] = useState('nicheAnalysis');
    const [modalImageSrc, setModalImageSrc] = useState(null);

    // Function to open the modal with a specific image
    const openModal = useCallback((src) => {
        setModalImageSrc(src);
    }, []);

    // Function to close the modal
    const closeModal = useCallback(() => {
        setModalImageSrc(null);
    }, []);


    const renderContent = () => {
        const props = { openModal };
        switch (activeTab) {
            case 'nicheAnalysis':
                return <NicheAnalysis {...props} />;
            case 'idea1':
                return <Idea1 {...props} />;
            case 'idea2':
                return <Idea2 {...props} />;
            case 'idea3':
                return <Idea3 />;
            case 'setup':
                return <HowTo />;
            default:
                return <NicheAnalysis {...props} />;
        }
    };

    return (
        <div className="min-h-screen bg-bg-cream font-sans antialiased text-dark-charcoal">
            {/* Tailwind Config for Runtime access to colors */}
            <script>{`
                tailwind.config = {
                    theme: {
                        extend: {
                            fontFamily: {
                                sans: ['Inter', 'sans-serif'],
                            },
                            colors: ${JSON.stringify(customColors)},
                        }
                    }
                }
            `}</script>
            {/* Load Tailwind CSS */}
            <script src="https://cdn.tailwindcss.com"></script>


            {/* Header */}
            <header className="bg-dark-charcoal text-white py-8 shadow-2xl">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h1 className="text-5xl font-extrabold tracking-tight">
                        Milan RMX: Etsy Launch Strategy
                    </h1>
                    <p className="text-xl mt-2 text-gray-300">
                        A personalized guide for Mario, the Milanese Artist
                    </p>
                </div>
            </header>

            {/* Main Content Area */}
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                
                {/* Tabs Navigation */}
                <nav className="flex space-x-2 border-b border-gray-300 mb-8 overflow-x-auto pb-1 no-scrollbar">
                    <TabButton 
                        tab="nicheAnalysis" 
                        activeTab={activeTab} 
                        onClick={setActiveTab} 
                        Icon={BookOpen} 
                        label="Pet Portrait Niche Analysis" 
                    />
                    <TabButton 
                        tab="idea1" 
                        activeTab={activeTab} 
                        onClick={setActiveTab} 
                        Icon={TrendingUp} 
                        label="Idea 1: Pet Everyday Situations" 
                    />
                    <TabButton 
                        tab="idea2" 
                        activeTab={activeTab} 
                        onClick={setActiveTab} 
                        Icon={Lightbulb} 
                        label="Idea 2: Milanese Design Archive (USP)" 
                    />
                    <TabButton 
                        tab="idea3" 
                        activeTab={activeTab} 
                        onClick={setActiveTab} 
                        Icon={Layers} 
                        label="Idea 3: Digital & POD Formats" 
                    />
                    <TabButton 
                        tab="setup" 
                        activeTab={activeTab} 
                        onClick={setActiveTab} 
                        Icon={Truck} 
                        label="Setup: Etsy & Printful" 
                    />
                </nav>

                {/* Tab Content */}
                <div className="bg-white p-8 rounded-3xl shadow-2xl">
                    {renderContent()}
                </div>
            </div>

            {/* Full-size Image Modal */}
            <ImageModal 
                src={modalImageSrc} 
                alt="Full-size preview of the artwork or design example" 
                onClose={closeModal} 
            />

            {/* Footer */}
            <footer className="py-8 text-center text-sm text-gray-500 bg-dark-charcoal/5 mt-12">
                &copy; 2024 Milano RMX Strategy Guide. Crafted with insights from Milan's artistic spirit.
            </footer>
        </div>
    );
};

export default App;